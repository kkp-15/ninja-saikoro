<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>ã‚µã‚¤ã‚³ãƒ­ã®è¡“ ğŸ²</title>

<!-- âœ… SEO -->
<meta name="description" content="ã‚¯ã‚¤ãƒƒã‚¯ / æ±ºã‚ã‚‹ / RPG ã®3ãƒ¢ãƒ¼ãƒ‰ã€‚è‰²ä»˜ãã§è¦‹ã‚„ã™ã„ç‰¹å¤§ã‚µã‚¤ã‚³ãƒ­ã€ã‚¹ãƒ¯ã‚¤ãƒ—ã§å†ãƒ­ãƒ¼ãƒ«ã€‚ã‚¹ãƒãƒ›ã«æœ€é©åŒ–ã•ã‚ŒãŸã‚·ãƒ³ãƒ—ãƒ«UIã€‚" />
<meta name="keywords" content="ã‚µã‚¤ã‚³ãƒ­, ãƒ€ã‚¤ã‚¹, ä¹±æ•°, ãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ , TRPG, æ±ºã‚ã‚‹, æŠ½é¸, ç„¡æ–™, ã‚¹ãƒãƒ›, Webã‚¢ãƒ—ãƒª" />

<!-- âœ… OGP / Twitter -->
<meta property="og:title" content="ã‚µã‚¤ã‚³ãƒ­ã®è¡“ ğŸ²" />
<meta property="og:description" content="ã‚¯ã‚¤ãƒƒã‚¯ / æ±ºã‚ã‚‹ / RPG ã®3ãƒ¢ãƒ¼ãƒ‰ã€‚è‰²ä»˜ãã§è¦‹ã‚„ã™ã„ç‰¹å¤§ã‚µã‚¤ã‚³ãƒ­ã€ã‚¹ãƒ¯ã‚¤ãƒ—ã§å†ãƒ­ãƒ¼ãƒ«ã€‚ã‚¹ãƒãƒ›ã«æœ€é©åŒ–ã•ã‚ŒãŸã‚·ãƒ³ãƒ—ãƒ«UIã€‚" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://dice.kkpwebninja.com/" />
<meta property="og:image" content="https://dice.kkpwebninja.com/card.png" />
<meta property="og:site_name" content="webå¿è€…ãƒ„ãƒ¼ãƒ«" />
<meta property="og:locale" content="ja_JP" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@kkp_webninja" />

<!-- âœ… Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2LM85GJN0L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)}
  gtag('js', new Date());
  gtag('config', 'G-2LM85GJN0L');
</script>

<style>
  :root{
    --bg:#f7f7fb; --fg:#111827; --muted:#6b7280;
    --die:#ffffff; --border:#e5e7eb; --radius:18px;
    --pip:36%; --gap:12px; --die-min:110px;
    --btn1:#6366f1; --btn2:#06b6d4;
  }
  @media (prefers-color-scheme: dark){
    :root{
      --bg:#0b0d12; --fg:#e5e7eb; --muted:#9aa2b2;
      --die:#15192d; --border:#2a2f45;
      --btn1:#7c7bff; --btn2:#3bd6e9;
    }
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN",sans-serif;
    background:
      radial-gradient(1000px 700px at 80% -10%, rgba(99,102,241,.10), transparent 50%),
      radial-gradient(900px 600px at -10% 40%, rgba(6,182,212,.10), transparent 55%),
      var(--bg);
    color:var(--fg); padding:16px; line-height:1.45;
  }
  h1{margin:0 0 8px; font-size: clamp(18px,4.5dvw,28px); font-weight:800;}
  .sub{color:var(--muted); margin-bottom:14px; font-size:.95rem}

  /* ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã‚„å€‹æ•°é¸æŠã®ãƒãƒƒãƒ— */
  .chips{display:flex; flex-wrap:wrap; gap:8px; margin:10px 0 14px}
  .chip{
    border:1px solid var(--border); border-radius:999px; padding:10px 14px;
    background:transparent; color:var(--fg); font-weight:700; cursor:pointer;
  }
  .chip.active{
    color:#fff; border-color: transparent;
    background: linear-gradient(135deg, var(--btn1), var(--btn2));
  }

  /* ãƒ¡ã‚¤ãƒ³ãƒœã‚¿ãƒ³ */
  .primary{
    width:100%; border:none; border-radius:14px; padding:16px 18px; font-weight:800;
    font-size: clamp(16px,3.8dvw,20px); color:#fff;
    background: linear-gradient(135deg, var(--btn1), var(--btn2));
    box-shadow: 0 10px 24px rgba(0,0,0,.12);
    cursor:pointer;
  }

  /* ã‚ªãƒ—ã‚·ãƒ§ãƒ³ */
  .opts{display:flex; align-items:center; gap:12px; margin-bottom:6px; justify-content:space-between}
  .left-opts{display:flex; align-items:center; gap:12px}
  .tog{display:inline-flex; align-items:center; gap:8px; border:1px solid var(--border); border-radius:10px; padding:8px 12px}
  .tog input{accent-color:#3b82f6}
  #helpBtn{
    border:1px solid var(--border); border-radius:999px; padding:6px 10px;
    background:transparent; color:var(--muted); cursor:pointer;
  }

  /* ã‚µã‚¤ã‚³ãƒ­ç›¤é¢ï¼ˆå¤§ãã•èª¿æ•´ï¼‰ */
  .dice-area{
    margin-top:14px;
    display:grid; grid-template-columns: repeat(auto-fit, minmax(var(--die-min), 1fr));
    gap: var(--gap);
  }
  .dice-area.one{ --die-min: min(78dvw, 300px); --pip:42%; --gap:18px;}
  .dice-area.few{ --die-min: 160px; --pip:38%; --gap:16px;}
  .dice-area.many{ --die-min: 130px; --pip:34%; --gap:14px;}

  .die{
    aspect-ratio:1/1; border-radius: var(--radius); background: var(--die);
    border:1px solid var(--border); display:grid; place-items:center; position:relative;
    --h: 210;
    background:
      radial-gradient(60% 55% at 50% 35%, hsl(var(--h) 100% 94%) 0%, transparent 65%),
      var(--die);
    box-shadow:
      0 6px 18px hsl(var(--h) 80% 40% / .10),
      inset 0 0 0 1px hsl(var(--h) 60% 75% / .40);
  }
  @media (prefers-color-scheme: dark){
    .die{
      background:
        radial-gradient(60% 55% at 50% 35%, hsl(var(--h) 80% 20% / .55) 0%, transparent 65%),
        var(--die);
      box-shadow:
        0 8px 20px hsl(var(--h) 80% 30% / .25),
        inset 0 0 0 1px hsl(var(--h) 70% 55% / .30);
    }
  }
  .face{
    position:absolute; inset:8%; border-radius:14px;
    display:grid; grid-template-columns: repeat(3,1fr); grid-template-rows: repeat(3,1fr);
    place-items:center; gap:3%;
  }
  .pip{
    width: var(--pip); aspect-ratio:1/1; border-radius:50%;
    background:#111827; box-shadow: inset 0 -1px 1px rgba(255,255,255,.35);
  }
  @media (prefers-color-scheme: dark){
    .pip{ background:#ffffff; box-shadow:none; }
  }

  .result{
    margin-top:12px; font-weight:800; font-size: clamp(16px,3.5dvw,22px);
    display:inline-block; padding:6px 10px; border-radius:10px;
    background: linear-gradient(135deg, var(--btn1), var(--btn2));
    color:#fff;
  }
  .hint{ color:var(--muted); font-size:.92rem; margin-top:6px}

  /* æ±ºã‚ã‚‹ */
  .decide-wrap{display:flex; gap:10px; align-items:center; margin:6px 0 12px}
  .num-input{
    flex:1; border:1px solid var(--border); border-radius:12px; padding:12px 14px;
    font-weight:700; font-size:1rem; background:var(--die); color:var(--fg);
  }
  .num-input:invalid{ outline:2px solid #ef4444 }

  /* RPG */
  .dice-types{display:flex; flex-wrap:wrap; gap:8px; margin:6px 0 12px}

  /* ãƒ˜ãƒ«ãƒ—ã‚·ãƒ¼ãƒˆ / ãƒˆãƒ¼ã‚¹ãƒˆ / ãƒ•ãƒƒã‚¿ãƒ¼ */
  #helpBackdrop{display:none; position:fixed; inset:0; background:rgba(0,0,0,.25)}
  #helpSheet{
    display:none; position:fixed; left:0; right:0; bottom:0;
    background:var(--die); color:var(--fg);
    border-top-left-radius:16px; border-top-right-radius:16px;
    box-shadow: 0 -12px 30px rgba(0,0,0,.18);
    padding:16px; max-height:60vh; overflow:auto;
  }
  #helpBackdrop.show { display:block; animation: fade .15s ease-out; }
  #helpSheet.show    { display:block; animation: rise .2s ease-out; }
  @keyframes fade { from{opacity:0} to{opacity:1} }
  @keyframes rise { from{transform:translateY(16px); opacity:.8} to{transform:translateY(0); opacity:1} }

  #toast{
    display:none; position:fixed; left:50%; transform:translateX(-50%);
    bottom:84px; background:#111827; color:#fff; padding:10px 14px; border-radius:12px; font-size:.9rem;
  }
  #footer{ margin-top:22px; color:var(--muted); font-size:.9rem; text-align:center}
  #footer a{ color:inherit; text-decoration:underline}
</style>
</head>
<body>
  <h1>ã‚µã‚¤ã‚³ãƒ­ã®è¡“ ğŸ²</h1>
  <div class="sub">ã‚¯ã‚¤ãƒƒã‚¯ / æ±ºã‚ã‚‹ / RPGã€‚å¿…è¦ãªã¨ãã«ã€1ã‚¿ãƒƒãƒ—ã€‚</div>

  <!-- ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ -->
  <div class="chips" id="modeChips">
    <button class="chip active" data-mode="quick">ã‚¯ã‚¤ãƒƒã‚¯</button>
    <button class="chip" data-mode="decide">æ±ºã‚ã‚‹</button>
    <button class="chip" data-mode="rpg">RPG</button>
  </div>

  <!-- ã‚ªãƒ—ã‚·ãƒ§ãƒ³ -->
  <div class="opts">
    <div class="left-opts">
      <label class="tog"><input type="checkbox" id="vib" checked> ãƒã‚¤ãƒ–</label>
      <div class="hint">â€»ä¸‹â†’ä¸Šã‚¹ãƒ¯ã‚¤ãƒ—ã§å†ãƒ­ãƒ¼ãƒ«</div>
    </div>
    <button id="helpBtn" aria-label="ä½¿ã„æ–¹">ï¼Ÿ</button>
  </div>

  <!-- ã‚¯ã‚¤ãƒƒã‚¯ -->
  <div id="quick" class="mode">
    <div class="chips" id="countChips">
      <button class="chip" data-n="1">1å€‹</button>
      <button class="chip active" data-n="2">2å€‹</button>
      <button class="chip" data-n="3">3å€‹</button>
      <button class="chip" data-n="4">4å€‹</button>
      <button class="chip" data-n="5">5å€‹</button>
      <button class="chip" data-n="6">6å€‹</button>
    </div>
    <button id="rollQuick" class="primary">æŒ¯ã‚‹ï¼</button>
    <div id="diceArea" class="dice-area"></div>
    <div id="sumQuick" class="result" style="display:none"></div>
    <div id="detailQuick" class="hint" style="display:none"></div>
  </div>

  <!-- æ±ºã‚ã‚‹ -->
  <div id="decide" class="mode" style="display:none">
    <div class="decide-wrap">
      <label for="maxN" class="sub" style="min-width:4.5em">æœ€å¤§N</label>
      <input id="maxN" class="num-input" type="number" inputmode="numeric" min="2" max="999999" value="6" />
    </div>
    <button id="rollDecide" class="primary">æŒ¯ã‚‹ï¼</button>
    <div id="sumDecide" class="result" style="display:none"></div>
  </div>

  <!-- RPG -->
  <div id="rpg" class="mode" style="display:none">
    <div class="dice-types" id="typeChips">
      <button class="chip active" data-sides="6">D6</button>
      <button class="chip" data-sides="8">D8</button>
      <button class="chip" data-sides="10">D10</button>
      <button class="chip" data-sides="12">D12</button>
      <button class="chip" data-sides="20">D20</button>
    </div>
    <button id="rollRPG" class="primary">æŒ¯ã‚‹ï¼</button>
    <div id="sumRPG" class="result" style="display:none"></div>
  </div>

  <!-- ãƒ˜ãƒ«ãƒ— -->
  <div id="helpBackdrop"></div>
  <div id="helpSheet">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px">
      <strong>ä½¿ã„æ–¹</strong>
      <button id="helpClose" class="chip" style="padding:6px 10px">é–‰ã˜ã‚‹</button>
    </div>
    <ul style="margin:0; padding-left:1.2em; line-height:1.6">
      <li><b>ã‚¯ã‚¤ãƒƒã‚¯</b>ï¼šå€‹æ•°ã‚’é¸ã‚“ã§ã€ŒæŒ¯ã‚‹ï¼ã€â†’ åˆè¨ˆã¨å†…è¨³ã‚’è¡¨ç¤º</li>
      <li><b>æ±ºã‚ã‚‹</b>ï¼š1ã€œNã§ãƒ©ãƒ³ãƒ€ãƒ æ•´æ•°ï¼ˆé †ç•ªæ±ºã‚ãƒ»ãŠé¡Œæ±ºã‚ã«ï¼‰</li>
      <li><b>RPG</b>ï¼šD6/D8/D10/D12/D20ã‹ã‚‰1å€‹ã‚’ãƒ­ãƒ¼ãƒ«</li>
      <li><b>å†ãƒ­ãƒ¼ãƒ«</b>ï¼šç”»é¢ã‚’ä¸‹â†’ä¸Šã¸ã‚¹ãƒ¯ã‚¤ãƒ—</li>
      <li><b>é™ã‹ãªå ´</b>ï¼šãƒã‚¤ãƒ–ã ã‘ON/OFFã§ãã¾ã™</li>
    </ul>
  </div>

  <!-- åˆå›ãƒˆãƒ¼ã‚¹ãƒˆ -->
  <div id="toast">ãƒ’ãƒ³ãƒˆï¼šä¸‹ã‹ã‚‰ä¸Šã¸ã‚¹ãƒ¯ã‚¤ãƒ—ã§å†ãƒ­ãƒ¼ãƒ«</div>

  <!-- SEOèª¬æ˜ -->
  <details style="margin-top:24px; font-size:.95rem; line-height:1.6">
    <summary style="cursor:pointer; font-weight:bold; color:var(--muted)">ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦</summary>
    <p>ã‚µã‚¤ã‚³ãƒ­ã®è¡“ ğŸ² ã¯ã€ã‚¹ãƒãƒ›ã‚„PCã§æ‰‹è»½ã«ã‚µã‚¤ã‚³ãƒ­ã‚’æŒ¯ã‚Œã‚‹ç„¡æ–™Webã‚¢ãƒ—ãƒªã§ã™ã€‚ã‚¯ã‚¤ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã§ã¯1ã€œ6å€‹ã®ã‚µã‚¤ã‚³ãƒ­ã‚’åŒæ™‚ã«æŒ¯ã‚Šã€åˆè¨ˆã¨å†…è¨³ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚æ±ºã‚ã‚‹ãƒ¢ãƒ¼ãƒ‰ã§ã¯1ã€œä»»æ„ã®æ•°å­—ã¾ã§ã®ä¹±æ•°ã‚’ç”Ÿæˆã—ã€é †ç•ªæ±ºã‚ã‚„ãŠé¡Œæ±ºã‚ã«ä¾¿åˆ©ã§ã™ã€‚RPGãƒ¢ãƒ¼ãƒ‰ã§ã¯D6ãƒ»D8ãƒ»D10ãƒ»D12ãƒ»D20ã‚’1ã¤æŒ¯ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ã€TRPGã€ã‚¤ãƒ™ãƒ³ãƒˆã€æˆæ¥­ã‚„ç¢ºç‡å®Ÿé¨“ãªã©å¹…åºƒã„ç”¨é€”ã«å¯¾å¿œã—ã¾ã™ã€‚</p>
  </details>

  <div id="footer">
    X <a href="https://x.com/kkp_webninja" target="_blank">@kkp_webninja</a> ãƒ»
    ğŸ¯ <a href="https://kkpwebninja.com" target="_blank">æœ¬ä¸¸</a>
  </div>

<script>
const $ = s => document.querySelector(s);
const $$ = s => [...document.querySelectorAll(s)];
let mode = 'quick', diceCount = 2, rpgSides = 6;
const HUES = [355,25,50,200,150,280];
function pipLayout(n){return[[0,0,0,0,1,0,0,0,0],[1,0,0,0,0,0,0,0,1],[1,0,0,0,1,0,0,0,1],[1,0,1,0,0,0,1,0,1],[1,0,1,0,1,0,1,0,1],[1,0,1,1,0,1,1,0,1]][n-1];}
function createDie(face){const d=document.createElement('div');d.className='die';d.style.setProperty('--h',H
